# Optuna hyperparameter search configuration
# Use as: uv run src/train.py --multirun hparams_search=optuna

# @package _global_

defaults:
  - override /hydra/sweeper: optuna

# Optuna sweeper settings
hydra:
  mode: MULTIRUN
  sweeper:
    _target_: hydra_plugins.hydra_optuna_sweeper.optuna_sweeper.OptunaSweeper

    # Direction: minimize or maximize
    direction: minimize

    # Storage for trials (null = in-memory)
    storage: null

    # Study name
    study_name: ${task_name}

    # Number of trials
    n_trials: 20

    # Number of parallel jobs
    n_jobs: 1

    # Sampler configuration
    sampler:
      _target_: optuna.samplers.TPESampler
      seed: ${seed}
      n_startup_trials: 10

    # Search space definition
    params:
      data.batch_size: choice(16, 32, 64, 128)
      trainer.learning_rate: interval(1e-5, 1e-3)
      # Add more hyperparameters as needed
